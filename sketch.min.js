function M(t){for(var e,r="0123456789ABCDEF",o="",n=0;n<t.length;n++)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function X(t){for(var e=Array(t.length>>2),r=0;r<e.length;r++)e[r]=0;for(r=0;r<8*t.length;r+=8)e[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return e}function V(t){for(var e="",r=0;r<32*t.length;r+=8)e+=String.fromCharCode(t[r>>5]>>>r%32&255);return e}function Y(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var r=1732584193,o=-271733879,n=-1732584194,a=271733878,i=0;i<t.length;i+=16){var s=r,m=o,u=n,d=a;o=md5_ii(o=md5_ii(o=md5_ii(o=md5_ii(o=md5_hh(o=md5_hh(o=md5_hh(o=md5_hh(o=md5_gg(o=md5_gg(o=md5_gg(o=md5_gg(o=md5_ff(o=md5_ff(o=md5_ff(o=md5_ff(o,n=md5_ff(n,a=md5_ff(a,r=md5_ff(r,o,n,a,t[i+0],7,-680876936),o,n,t[i+1],12,-389564586),r,o,t[i+2],17,606105819),a,r,t[i+3],22,-1044525330),n=md5_ff(n,a=md5_ff(a,r=md5_ff(r,o,n,a,t[i+4],7,-176418897),o,n,t[i+5],12,1200080426),r,o,t[i+6],17,-1473231341),a,r,t[i+7],22,-45705983),n=md5_ff(n,a=md5_ff(a,r=md5_ff(r,o,n,a,t[i+8],7,1770035416),o,n,t[i+9],12,-1958414417),r,o,t[i+10],17,-42063),a,r,t[i+11],22,-1990404162),n=md5_ff(n,a=md5_ff(a,r=md5_ff(r,o,n,a,t[i+12],7,1804603682),o,n,t[i+13],12,-40341101),r,o,t[i+14],17,-1502002290),a,r,t[i+15],22,1236535329),n=md5_gg(n,a=md5_gg(a,r=md5_gg(r,o,n,a,t[i+1],5,-165796510),o,n,t[i+6],9,-1069501632),r,o,t[i+11],14,643717713),a,r,t[i+0],20,-373897302),n=md5_gg(n,a=md5_gg(a,r=md5_gg(r,o,n,a,t[i+5],5,-701558691),o,n,t[i+10],9,38016083),r,o,t[i+15],14,-660478335),a,r,t[i+4],20,-405537848),n=md5_gg(n,a=md5_gg(a,r=md5_gg(r,o,n,a,t[i+9],5,568446438),o,n,t[i+14],9,-1019803690),r,o,t[i+3],14,-187363961),a,r,t[i+8],20,1163531501),n=md5_gg(n,a=md5_gg(a,r=md5_gg(r,o,n,a,t[i+13],5,-1444681467),o,n,t[i+2],9,-51403784),r,o,t[i+7],14,1735328473),a,r,t[i+12],20,-1926607734),n=md5_hh(n,a=md5_hh(a,r=md5_hh(r,o,n,a,t[i+5],4,-378558),o,n,t[i+8],11,-2022574463),r,o,t[i+11],16,1839030562),a,r,t[i+14],23,-35309556),n=md5_hh(n,a=md5_hh(a,r=md5_hh(r,o,n,a,t[i+1],4,-1530992060),o,n,t[i+4],11,1272893353),r,o,t[i+7],16,-155497632),a,r,t[i+10],23,-1094730640),n=md5_hh(n,a=md5_hh(a,r=md5_hh(r,o,n,a,t[i+13],4,681279174),o,n,t[i+0],11,-358537222),r,o,t[i+3],16,-722521979),a,r,t[i+6],23,76029189),n=md5_hh(n,a=md5_hh(a,r=md5_hh(r,o,n,a,t[i+9],4,-640364487),o,n,t[i+12],11,-421815835),r,o,t[i+15],16,530742520),a,r,t[i+2],23,-995338651),n=md5_ii(n,a=md5_ii(a,r=md5_ii(r,o,n,a,t[i+0],6,-198630844),o,n,t[i+7],10,1126891415),r,o,t[i+14],15,-1416354905),a,r,t[i+5],21,-57434055),n=md5_ii(n,a=md5_ii(a,r=md5_ii(r,o,n,a,t[i+12],6,1700485571),o,n,t[i+3],10,-1894986606),r,o,t[i+10],15,-1051523),a,r,t[i+1],21,-2054922799),n=md5_ii(n,a=md5_ii(a,r=md5_ii(r,o,n,a,t[i+8],6,1873313359),o,n,t[i+15],10,-30611744),r,o,t[i+6],15,-1560198380),a,r,t[i+13],21,1309151649),n=md5_ii(n,a=md5_ii(a,r=md5_ii(r,o,n,a,t[i+4],6,-145523070),o,n,t[i+11],10,-1120210379),r,o,t[i+2],15,718787259),a,r,t[i+9],21,-343485551),r=safe_add(r,s),o=safe_add(o,m),n=safe_add(n,u),a=safe_add(a,d)}return Array(r,o,n,a)}function md5_cmn(t,e,r,o,n,a){return safe_add(bit_rol(safe_add(safe_add(e,t),safe_add(o,a)),n),r)}function md5_ff(t,e,r,o,n,a,i){return md5_cmn(e&r|~e&o,t,e,n,a,i)}function md5_gg(t,e,r,o,n,a,i){return md5_cmn(e&o|r&~o,t,e,n,a,i)}function md5_hh(t,e,r,o,n,a,i){return md5_cmn(e^r^o,t,e,n,a,i)}function md5_ii(t,e,r,o,n,a,i){return md5_cmn(r^(e|~o),t,e,n,a,i)}function safe_add(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function bit_rol(t,e){return t<<e|t>>>32-e}function preload(){aFX_button_press=loadSound("assets/audio/add.mp3"),aFX_fruit_hit=loadSound("assets/audio/mixkit-game-ball-tap-2073.wav"),aFX_loses_game=loadSound("assets/audio/mixkit-negative-guitar-tone-2324.wav"),game={game_started:!1,viewport:{w:0,h:0},score:0,setScoreUp:function(){this.score+=1},setViewPort:function(){let t=document.getElementById("game_viewport");this.viewport.h=t.offsetHeight,this.viewport.w=t.offsetWidth,console.log(this.viewport.h)},getScore:function(){return this.score},gameOver:function(){this.game_started=!1,aFX_loses_game.play()},gameStart:function(){this.game_started=!0,localStorage.setItem("creloadgame","false")}},playarea={w:game.viewport.w,h:game.viewport.h},font_regular=loadFont("assets/fonts/Staatliches-Regular.ttf"),fruit_img=loadImage("assets/img/fruit.png"),fruit={icon:loadImage("assets/img/fruits/1.png"),w:30,h:30,x:xFruit-this.w/2,y:yFruit-this.w/2,fruit_basket:[],cycleIcon:function(){let t=getRandomInt(11),e="assets/img/fruits/"+t.toString()+".png";this.fruit_basket.push(e),this.icon=loadImage(e)},hit:function(){printFruitBasket(),aFX_fruit_hit.play()}},btn_up={src:"assets/img/btn_up.png",x:20+this.w,y:playarea.h+60,w:80,h:80,alt:"Para cima",click:function(){controls(87),aFX_button_press.play()}},btn_down={src:"assets/img/btn_down.png",x:20+this.w,y:playarea.h+60,w:80,h:80,alt:"Para baixo",click:function(){controls(83),aFX_button_press.play()}},btn_left={src:"assets/img/btn_left.png",x:20+this.w,y:playarea.h+60,w:80,h:80,alt:"Para a esquerda",click:function(){controls(65),aFX_button_press.play()}},btn_right={src:"assets/img/btn_right.png",x:20+this.w,y:playarea.h+60,w:80,h:80,alt:"Para a direita",click:function(){controls(68),aFX_button_press.play()}}}function setup(){game.setViewPort(),play_canvas=createCanvas(game.viewport.w,game.viewport.h),play_canvas.parent("game"),"true"==localStorage.getItem("creloadgame")?startGame():messageWindow([!1,!1,!0],"Bem Vindo (a)","Mini Jogo do Closet da Zzama","Para jogar aperte Play")}function startGame(){game.gameStart(),frameRate(15),stroke(255),strokeWeight(10),updateFruitCoordinates(),printGameScore();for(let t=0;t<numSegments;t++)xCor.push(xStart+t*diff),yCor.push(yStart);createControlButton(btn_up,btn_down,btn_left,btn_right)}function draw(){if(game.game_started){background(colors.hot_pink),printGameScore();for(let t=0;t<numSegments-1;t++)line(xCor[t],yCor[t],xCor[t+1],yCor[t+1]);updateSnakeCoordinates(),checkGameStatus(),checkForFruit()}}function updateSnakeCoordinates(){for(let t=0;t<numSegments-1;t++)xCor[t]=xCor[t+1],yCor[t]=yCor[t+1];switch(direction){case"right":xCor[numSegments-1]=xCor[numSegments-2]+diff,yCor[numSegments-1]=yCor[numSegments-2];break;case"up":xCor[numSegments-1]=xCor[numSegments-2],yCor[numSegments-1]=yCor[numSegments-2]-diff;break;case"left":xCor[numSegments-1]=xCor[numSegments-2]-diff,yCor[numSegments-1]=yCor[numSegments-2];break;case"down":xCor[numSegments-1]=xCor[numSegments-2],yCor[numSegments-1]=yCor[numSegments-2]+diff}}function checkGameStatus(){(xCor[xCor.length-1]>width||xCor[xCor.length-1]<0||yCor[yCor.length-1]>height||yCor[yCor.length-1]<0||checkSnakeCollision())&&(noLoop(),game.gameOver(),messageWindow([!0,!0,!1],"","Ooops. O Jogo Acabou","Sua pontuação é de "+game.getScore()+" pontos clique no botão para compartilhar ;)"))}function checkSnakeCollision(){const t=xCor[xCor.length-1],e=yCor[yCor.length-1];for(let r=0;r<xCor.length-1;r++)if(xCor[r]===t&&yCor[r]===e)return!0}function checkForFruit(){image(fruit.icon,xFruit-wFruit/2,yFruit-hFruit/2,wFruit,hFruit),snakeAteTheFruit()&&(game.setScoreUp(),xCor.unshift(xCor[0]),yCor.unshift(yCor[0]),numSegments++,updateFruitCoordinates(),fruit.hit(),fruit.cycleIcon())}function snakeAteTheFruit(){return xCor[xCor.length-1]===xFruit&&yCor[yCor.length-1]===yFruit||(xCor[xCor.length-1]===xFruit+10&&yCor[yCor.length-1]===yFruit+10||xCor[xCor.length-1]===xFruit-10&&yCor[yCor.length-1]===yFruit-10)}function updateFruitCoordinates(){xFruit=10*floor(random(10,(width-100)/10)),yFruit=10*floor(random(10,(height-100)/10))}function keyPressed(){controls(keyCode)}function controls(t){switch(t){case 65:"right"!==direction&&(direction="left");break;case 68:"left"!==direction&&(direction="right");break;case 87:"down"!==direction&&(direction="up");break;case 83:"up"!==direction&&(direction="down")}}function createControlButton(){let t=parseInt(game.viewport.w/arguments.length)-5;if(0!=arguments.length)for(var e=0;e<arguments.length;e++)btn=arguments[e],button=createImg(btn.src,btn.alt),button.parent("control"),button.style("width",t+"px"),button.style("height",t+"px"),button.attribute("class","btn"),button.mousePressed(btn.click)}function getRandomInt(t){return Math.floor(Math.random()*Math.floor(t))}function printFruitBasket(){let t=40,e=fruit.fruit_basket.length,r=parseInt(game.viewport.w/t),o=fruit.fruit_basket;e>r&&(o=fruit.fruit_basket.slice(e-r,e)),document.getElementById("fruit_basket").innerHTML="";for(var n=o.length;n>=0;n--){let e=o[n];void 0!==e&&(button=createImg(e,"+1"),button.attribute("name","icones_ponto"),button.style("width",t),button.style("height",t),button.parent("fruit_basket"))}}function messageWindow(t=[!1,!1,!1],e="",r="",o=""){let n=document.querySelector("#modal-text"),a=document.querySelector("#modal-title"),i=document.querySelector("#modal-subtitle"),s=document.querySelector("#modal-btn-reload"),m=document.querySelector("#modal-btn-share"),u=document.querySelector("#modal-btn-play");a.innerHTML=e,i.innerHTML=r,n.innerHTML=o,s.classList.toggle("closed",!t[0]),m.classList.toggle("closed",!t[1]),u.classList.toggle("closed",!t[2]),showModal(!0)}function printGameScore(){var t="PONTUAÇÃO = "+game.getScore();let e=document.getElementById("game_score");e.innerHTML=t}function shareResults(){let t=document.getElementById("share_envelope_fruits"),e=document.getElementById("share_pontuacao"),r=document.getElementById("share_hash"),o="Eu marquei "+fruit.fruit_basket.length+" pontos",n=MD5(o);t.innerHTML="",e.innerHTML=o,r.innerHTML=n;for(var a=0;a<fruit.fruit_basket.length;a++){let e=document.createElement("img");e.setAttribute("src",fruit.fruit_basket[a]),t.append(e)}let i=document.getElementById("share");i.classList.toggle("closed",!1),domtoimage.toJpeg(i,{quality:.95}).then(function(t){var e=document.createElement("a");e.download="minha-pontuação.jpg",e.href=t,e.click(),i.classList.toggle("closed",!0)})}function reloadGame(){return localStorage.setItem("creloadgame","true"),location.reload(),!1}function showModal(t){modal.classList.toggle("closed",!t),modalOverlay.classList.toggle("closed",!t)}var play_canvas,MD5=function(t){var e=M(V(Y(X(t),8*t.length)));return e.toLowerCase()};let numSegments=10,direction="right";const xStart=0,yStart=250,diff=10;let scoreElem,font_regular,xCor=[],yCor=[],xFruit=0,yFruit=0,wFruit=30,hFruit=30,colors={tiffany_blue:"#A0E7E5",hot_pink:"#FFAEBC",clear_pink:"#FFC7D6",yellow:"#FBE7C6",mint:"#B4F8C8",white:"#FFFFFF"};